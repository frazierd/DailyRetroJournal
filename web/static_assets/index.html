<!DOCTYPE html>
    <html> 
        <head>
            <meta charset="utf-8">
            <meta http-equiv="x-ua-compatible" content="ie=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
            <title>Daily Retro Journal</title>
            <link rel="stylesheet" href="css/foundation.css">
            <link rel="stylesheet" href="css/style.css">

            <style>
                :root{
                   /* css variables: https://developer.mozilla.org/en-US/docs/Web/CSS/var */
                   
                --background-color:#404040;
                --text-color: #b5b5b5;
                --secondary-color: #ffffff
                }

                body,
                textarea {
                    background-color: var(--background-color);
                    color: var(--secondary-colorr)
                }
            </style>
      
            <!-- <script src="assets/additionalLandingPage.js"></script>-->
            <script src="assets/viewAllJournalEntries.js"></script>
        </head>

    <body>
        <div class="grid-y medium-grid-frame">
            <div class="cell shrink header medium-cell-block-container">
                <h1>DAILY RETRO JOURNAL</h1>
                <div class="grid-x grid-padding-x">
                </div>
            </div>
                    <!-- This is where the summary sidebar starts -->
            <div class="cell medium-auto medium-cell-block-container">
                <div class="grid-x grid-padding-x">
                    <div class="cell medium-4 medium-cell-block-y" id="journal-entry-summary">
                        <h2>Journal entry summary</h2>
                        <table>
                            <tbody id="journalSummary"></tbody>
                        </table>

                        <p> this is where my calendar representation is going (stretch goal)</p>

                    </div>
                    <!-- this the text editor-->
                    <div class="cell medium-8 medium-cell-block-y">
                        <div class="cell medium-4">
                            <button id="new-entry-button" onclick="createNewEntry()"> + </button>
                        </div>
                        <textarea id="journal-entry" rows="25" placeholder="Write your journal entry here"></textarea>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button class="btn btn-primary me-md-2" id="save" type="button">SAVE</button>
                            <button class="btn btn-primary me-md-2" id="update" type="button">UPDATE</button>
                            <button class="btn btn-primary" id="delete" type="button">DELETE</button>
                        </div>
                    </div>

                    <script>
  function createNewEntry() {
    var previousEntry = document.getElementById("journal-entry").value;
    var newEntryButton = document.getElementById("new-entry-button");

    // Create a new textarea for the new journal entry
    var newTextArea = document.createElement("textarea");
    newTextArea.setAttribute("id", "journal-entry");
    newTextArea.setAttribute("rows", "25");
    newTextArea.setAttribute("placeholder", "Write your journal entry here");

    // Clear the previous entry by setting its value to an empty string
    document.getElementById("journal-entry").value = "";

    // Insert the new textarea after the existing textarea
    var parentDiv = newEntryButton.parentNode.parentNode; // Go two levels up to the outermost div
    parentDiv.insertBefore(newTextArea, newEntryButton.parentNode.nextSibling);
  }
                    </script>

                </div>
            </div>
        </div>

        <script>
        // Auto-save functionality
        const journalEntry = document.getElementById('journal-entry');

        journalEntry.addEventListener('input', () => {
          const entryContent = journalEntry.value;
          localStorage.setItem('journalEntry', entryContent);
        });

        // Retrieve saved entry on page load
        const savedEntry = localStorage.getItem('journalEntry');
        if (savedEntry) {
          journalEntry.value = savedEntry;
        }
        </script>

    <!--        <div class="cell shrink footer">-->
    <!--            <h3>Here's my footer</h3>-->
    <!--        </div>-->
    </body>
    <body>
        <h1>Tech Stack</h1>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>
